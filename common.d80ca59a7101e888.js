"use strict";(self.webpackChunkmanage_shop=self.webpackChunkmanage_shop||[]).push([[592],{5799:(d,i,a)=>{a.d(i,{d:()=>c});var o=a(7398),h=a(5879),r=a(6487);let c=(()=>{class s{constructor(e){this.db=e,this.baseObject="Shops",this.shopRef=e.list(this.baseObject)}getAllShops(){return this.shopRef.snapshotChanges().pipe((0,o.U)(e=>e.map(t=>({key:t.payload.key,...t.payload.val()}))))}addShop(e){const t=this.shopRef.push(null).key;return e.ratingScore=0,this.db.object(`${this.baseObject}/${t}`).set(e)}deleteShop(e){return this.shopRef.remove(e)}updateShop(e,t){return this.shopRef.update(e,t)}getShopByKey(e){return this.db.object(`${this.baseObject}/${e}`).snapshotChanges().pipe((0,o.U)(t=>{const n=t.payload.val();return{key:t.payload.key,...n}}))}getSectionShop(e){return this.db.list(`${this.baseObject}/${e}/sections`).snapshotChanges().pipe((0,o.U)(n=>n.map(p=>({key:p.payload.key,...p.payload.val()}))))}addSectionShop(e,t){return e.sections?e.sections.push(t):e.sections=[t],this.shopRef.update(e.key,e)}static#e=this.\u0275fac=function(t){return new(t||s)(h.LFG(r.KQ))};static#t=this.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()}}]);
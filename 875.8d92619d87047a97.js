"use strict";(self.webpackChunkmanage_shop=self.webpackChunkmanage_shop||[]).push([[875],{4179:(no,U,l)=>{l.r(U),l.d(U,{FoodModule:()=>oo});var m=l(6814),y=l(4190),t=l(5879),E=l(4104),w=l(220);class Q{}class L{}class M{}var p=l(7700),g=l(2296),f=l(4170),T=l(8525),x=l(3680),_=l(2032),c=l(6223);let k=(()=>{class o{constructor(e,i){this.dialogRef=e,this.data=i}onNoClick(){this.dialogRef.close()}isFormValid(){return this.data.option.optionName&&this.data.option.optionType}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(p.so),t.Y36(p.WI))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-option-dialog"]],decls:23,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","optional"],["value","nonOptional"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","disabled"]],template:function(i,n){1&i&&(t.TgZ(0,"h1",0),t._uU(1,"Th\xeam Option"),t.qZA(),t.TgZ(2,"div",1)(3,"p"),t._uU(4,"Option"),t.qZA(),t.TgZ(5,"mat-form-field")(6,"mat-label"),t._uU(7,"T\xean Option"),t.qZA(),t.TgZ(8,"input",2),t.NdJ("ngModelChange",function(d){return n.data.option.optionName=d}),t.qZA()(),t._UZ(9,"br"),t.TgZ(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Lo\u1ea1i Option"),t.qZA(),t.TgZ(13,"mat-select",3),t.NdJ("ngModelChange",function(d){return n.data.option.optionType=d}),t.TgZ(14,"mat-option",4),t._uU(15,"Optional"),t.qZA(),t.TgZ(16,"mat-option",5),t._uU(17,"Non Optional"),t.qZA()()()(),t.TgZ(18,"div",6)(19,"button",7),t.NdJ("click",function(){return n.onNoClick()}),t._uU(20,"\u0110\xf3ng"),t.qZA(),t.TgZ(21,"button",8),t._uU(22," Th\xeam "),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("ngModel",n.data.option.optionName),t.xp6(5),t.Q6J("ngModel",n.data.option.optionType),t.xp6(8),t.Q6J("mat-dialog-close",n.data.option)("disabled",!n.isFormValid()))},dependencies:[g.lW,f.KE,f.hX,T.gD,x.ey,_.Nt,p.ZT,p.uh,p.xY,p.H8,c.Fj,c.JJ,c.On]})}return o})();var A=l(5986);function R(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",16),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.selectedImageSrc,t.LSH)}}let q=(()=>{class o{constructor(e,i){this.dialogRef=e,this.data=i,this.selectedImage=null,this.selectedImageSrc=null}onNoClick(){this.dialogRef.close()}onClick(){this.selectedImage&&this.dialogRef.close({image:this.selectedImage})}onImageSelected(e){const i=e.target.files[0];if(i){const n=URL.createObjectURL(i);this.selectedImageSrc=n,this.selectedImage=i}}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(p.so),t.Y36(p.WI))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-option-item"]],decls:29,vars:5,consts:[[1,"p-3"],["mat-dialog-title","",1,"text-center","mb-3"],[1,"row"],[1,"col","d-flex","align-items-center","justify-content-center"],[1,"form-group"],[4,"ngIf"],["type","file","accept","image/*",1,"mt-2",3,"change"],[1,"col"],["mat-dialog-content",""],["matInput","",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],[1,"mb-3"],[3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","click"],["width","250px",1,"mx-auto","d-block",3,"src"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Th\xeam Option Item"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4),t.YNc(6,R,2,1,"div",5),t.TgZ(7,"input",6),t.NdJ("change",function(d){return n.onImageSelected(d)}),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8)(10,"p"),t._uU(11,"Option Item"),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"T\xean Option Item"),t.qZA(),t.TgZ(15,"input",9),t.NdJ("ngModelChange",function(d){return n.data.optionItem.name=d}),t.qZA()(),t._UZ(16,"br"),t.TgZ(17,"mat-form-field")(18,"mat-label"),t._uU(19,"Gi\xe1 Option Item"),t.qZA(),t.TgZ(20,"input",10),t.NdJ("ngModelChange",function(d){return n.data.optionItem.price=d}),t.qZA()(),t.TgZ(21,"section",11)(22,"mat-checkbox",12),t.NdJ("ngModelChange",function(d){return n.data.optionItem.isOutOfStock=d}),t._uU(23," Is Out of Stock "),t.qZA()()(),t.TgZ(24,"div",13)(25,"button",14),t.NdJ("click",function(){return n.onNoClick()}),t._uU(26,"\u0110\xf3ng"),t.qZA(),t.TgZ(27,"button",15),t.NdJ("click",function(){return n.onClick()}),t._uU(28," Th\xeam "),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("ngIf",n.selectedImage),t.xp6(9),t.Q6J("ngModel",n.data.optionItem.name),t.xp6(5),t.Q6J("ngModel",n.data.optionItem.price),t.xp6(2),t.Q6J("ngModel",n.data.optionItem.isOutOfStock),t.xp6(5),t.Q6J("mat-dialog-close",n.data.optionItem))},dependencies:[m.O5,g.lW,f.KE,f.hX,_.Nt,A.oG,p.ZT,p.uh,p.xY,p.H8,c.Fj,c.wV,c.JJ,c.On]})}return o})();var Z=l(776),J=l(5799),Y=l(872),O=l(4186),F=l(2425),C=l(1175),I=l(5940),j=l(7555);function $(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",27),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.selectedImageSrc,t.LSH)}}function P(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," T\xean s\u1ea3n ph\u1ea9m l\xe0 "),t.TgZ(2,"strong"),t._uU(3,"b\u1eaft bu\u1ed9c"),t.qZA()())}function H(o,s){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.sectionName," ")}}function B(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Gi\xe1 ti\u1ec1n l\xe0 "),t.TgZ(2,"strong"),t._uU(3,"b\u1eaft bu\u1ed9c"),t.qZA()())}function G(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," \u0110\u1ecbnh d\u1ea1ng gi\xe1 kh\xf4ng h\u1ee3p l\u1ec7 "),t.qZA())}function W(o,s){if(1&o&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function K(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Lo\u1ea1i s\u1ea3n ph\u1ea9m l\xe0 "),t.TgZ(2,"strong"),t._uU(3,"b\u1eaft bu\u1ed9c"),t.qZA()())}function X(o,s){if(1&o&&t._UZ(0,"img",37),2&o){const e=t.oxw().$implicit;t.s9C("src",e.image,t.LSH)}}function V(o,s){1&o&&(t.ynx(0),t._uU(1,", "),t.BQk())}function z(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"span"),t.YNc(1,X,1,1,"ng-template",null,34,t.W1O),t.TgZ(3,"button",35),t.ALo(4,"currency"),t._uU(5),t.qZA(),t.TgZ(6,"sup")(7,"a",36),t.NdJ("click",function(){const a=t.CHM(e).index,d=t.oxw().$implicit,r=t.oxw();return t.KtG(r.deleteOptionItem(d,a))}),t._UZ(8,"i",31),t.qZA()(),t.YNc(9,V,2,0,"ng-container",4),t.qZA()}if(2&o){const e=s.$implicit,i=s.last,n=t.MAs(2);t.xp6(3),t.hYB("popoverTitle","",e.name,", ",t.xi3(4,5,e.price,"VND"),""),t.Q6J("ngbPopover",n),t.xp6(2),t.hij(" ",e.name," "),t.xp6(4),t.Q6J("ngIf",!i)}}function tt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",29)(1,"strong"),t._uU(2),t.TgZ(3,"sup")(4,"a",30),t.NdJ("click",function(){const a=t.CHM(e).index,d=t.oxw();return t.KtG(d.deleteOption(a))}),t._UZ(5,"i",31),t.qZA()(),t._uU(6,": "),t.qZA(),t.YNc(7,z,10,8,"span",32),t.TgZ(8,"button",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.openAddOptionItem(a))}),t._uU(9),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(2),t.hij("",e.optionName," "),t.xp6(5),t.Q6J("ngForOf",e.optionList),t.xp6(2),t.hij(" Th\xeam ",e.optionName," ")}}function ot(o,s){1&o&&(t.ynx(0),t._uU(1," Th\xeam s\u1ea3n ph\u1ea9m "),t.BQk())}function et(o,s){1&o&&t._UZ(0,"mat-spinner",38)}let nt=(()=>{class o{constructor(e,i,n,a,d,r,h){this.foodService=e,this.shopService=i,this.authService=n,this.afStorage=a,this.fb=d,this.dialog=r,this.toastr=h,this.food=new Q,this.shops=[],this.options=[],this.option=new L,this.optionItems=[],this.optionItem=new M,this.selectedImage=null,this.selectedImageSrc=null,this.addFoodForm=new c.cw({}),this.addingFood=!1,this.listType=["fastfood","drink","vietnameseFood","koreanFood","japaneseFood","other"]}ngOnInit(){this.getAllShops(),this.getShopId(),this.addFoodForm=this.fb.group({foodName:new c.NI("",[c.kI.required]),foodType:new c.NI("",[c.kI.required]),foodPrice:new c.NI("",[c.kI.required,c.kI.pattern(/^\d+(\.\d{1,2})?$/)]),foodDescription:new c.NI(""),isOutOfStock:new c.NI(!1),sectionId:new c.NI("",[c.kI.required])})}get foodName(){return this.addFoodForm.get("foodName")}get foodType(){return this.addFoodForm.get("foodType")}get foodPrice(){return this.addFoodForm.get("foodPrice")}get foodDescription(){return this.addFoodForm.get("foodDescription")}get isOutOfStock(){return this.addFoodForm.get("isOutOfStock")}get sectionId(){return this.addFoodForm.get("sectionId")}getAllShops(){this.shopService.getAllShops().subscribe(e=>{this.shops=e})}getShopId(){this.authService.getCurrentUser().subscribe(e=>{this.shopService.getSectionShop(e.shopId).subscribe(i=>{this.selectedShopSections=i,this.sectionId?.setValue(this.selectedShopSections[0].key),this.food.shopId=e.shopId})})}onSubmit(e){if(this.addFoodForm.valid)if(this.addingFood=!0,this.selectedImage){const i=this.afStorage.ref(`FoodImage/${this.selectedImage.name}`);i.put(this.selectedImage).snapshotChanges().subscribe(a=>{"success"===a?.state&&i.getDownloadURL().subscribe(d=>{this.food.foodImage=d,this.saveFood(e)})})}else this.saveFood(e)}saveFood(e){this.setFoodProperties(),this.foodService.addFood(this.food).then(()=>{this.resetForm(e),this.addingFood=!1,this.toastr.success("S\u1ea3n ph\u1ea9m \u0111\xe3 \u0111\u01b0\u1ee3c th\xeam.","Th\xeam th\xe0nh c\xf4ng!")}).catch(i=>{console.log(i),this.addingFood=!1})}setFoodProperties(){this.food.foodName=this.foodName?.value,this.food.foodType=this.foodType?.value,this.food.foodPrice=this.foodPrice?.value,this.food.foodDescription=this.foodDescription?.value,this.food.isOutOfStock=this.isOutOfStock?.value,this.food.options=this.options,this.food.sectionId=this.sectionId?.value}addOption(){this.option.optionList=[],this.options.push(this.option),this.option={}}deleteOption(e){e>=0&&e<this.options.length&&this.options.splice(e,1)}onImageSelected(e){this.selectedImage=e.target.files[0],this.selectedImageSrc=URL.createObjectURL(this.selectedImage)}resetForm(e){this.options=[];const i=document.querySelector("#fileInput");i&&(i.value=""),this.selectedImage=null,e.resetForm(),this.addFoodForm.reset()}openAddOption(){this.dialog.open(k,{data:{option:this.option}}).afterClosed().subscribe(i=>{i&&this.addOption()})}addOptionItem(e){e.optionList?.push(this.optionItem),this.optionItem={}}deleteOptionItem(e,i){i>=0&&i<e.optionList.length&&e.optionList?.splice(i,1)}openAddOptionItem(e){this.dialog.open(q,{data:{optionItem:this.optionItem}}).afterClosed().subscribe(n=>{if(n)if(n.image){const a=n.image,d=this.afStorage.ref(`FoodImage/${a.name}`);d.put(a).snapshotChanges().subscribe(h=>{"success"===h?.state&&d.getDownloadURL().subscribe(N=>{this.optionItem.image=N,this.addOptionItem(e)})})}else this.addOptionItem(e)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Z.d),t.Y36(J.d),t.Y36(Y.e),t.Y36(O.Q1),t.Y36(c.qu),t.Y36(p.uw),t.Y36(F._W))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-food"]],decls:50,vars:12,consts:[[1,"row","m-5",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"col-md-5","d-flex","align-items-center","justify-content-center"],[1,"form-group"],[4,"ngIf"],["id","fileInput","type","file","accept","image/*",1,"mt-2",3,"change"],[1,"col-md-7"],[1,"mb-3"],["formControlName","isOutOfStock"],[1,"row","mb-2"],[1,"col-md-6"],["matInput","","formControlName","foodName"],["name","sectionId","formControlName","sectionId"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["matInput","","type","number","formControlName","foodPrice"],["name","foodType","formControlName","foodType"],[1,"full-width"],["matInput","","formControlName","foodDescription"],[1,"me-2"],["mat-button","","color","primary","type","button",1,"ms-2",3,"click"],["aria-hidden","false","fontIcon","add"],["class","mt-3",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","mt-5"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[4,"ngIf","ngIfElse"],["loadingButtonContent",""],["width","350px",1,"mx-auto","d-block",3,"src"],[3,"value"],[1,"mt-3"],["href","javascript:",1,"me-1",3,"click"],[1,"fas","fa-close",2,"color","#e60f0f"],[4,"ngFor","ngForOf"],["mat-button","","color","accent","type","button",1,"ms-2",3,"click"],["popContent",""],["type","button","mat-button","","triggers","mouseenter:mouseleave",2,"width","fit-content",3,"ngbPopover","popoverTitle"],["href","javascript:",3,"click"],["width","150px",3,"src"],["diameter","20"]],template:function(i,n){if(1&i){const a=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(a);const r=t.MAs(1);return t.KtG(n.onSubmit(r))}),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,$,2,1,"div",4),t.TgZ(5,"input",5),t.NdJ("change",function(r){return n.onImageSelected(r)}),t.qZA()()(),t.TgZ(6,"div",6)(7,"section",7)(8,"mat-checkbox",8),t._uU(9," Is Out of Stock "),t.qZA()(),t.TgZ(10,"div",9)(11,"mat-form-field",10)(12,"mat-label"),t._uU(13,"T\xean s\u1ea3n ph\u1ea9m"),t.qZA(),t._UZ(14,"input",11),t.YNc(15,P,4,0,"mat-error",4),t.qZA(),t.TgZ(16,"mat-form-field",10)(17,"mat-label"),t._uU(18,"Ch\u1ecdn danh m\u1ee5c"),t.qZA(),t.TgZ(19,"mat-select",12),t.YNc(20,H,2,2,"mat-option",13),t.qZA()()(),t.TgZ(21,"div",9)(22,"mat-form-field",14)(23,"mat-label"),t._uU(24,"Gi\xe1 s\u1ea3n ph\u1ea9m"),t.qZA(),t._UZ(25,"input",15),t.YNc(26,B,4,0,"mat-error",4),t.YNc(27,G,2,0,"mat-error",4),t.qZA(),t.TgZ(28,"mat-form-field",14)(29,"mat-label"),t._uU(30,"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),t.qZA(),t.TgZ(31,"mat-select",16),t.YNc(32,W,2,2,"mat-option",13),t.qZA(),t.YNc(33,K,4,0,"mat-error",4),t.qZA()(),t.TgZ(34,"mat-form-field",17)(35,"mat-label"),t._uU(36,"M\xf4 t\u1ea3"),t.qZA(),t._UZ(37,"textarea",18),t.qZA(),t.TgZ(38,"div",7)(39,"strong",19),t._uU(40,"Option:"),t.qZA(),t.TgZ(41,"button",20),t.NdJ("click",function(){return n.openAddOption()}),t._UZ(42,"mat-icon",21),t._uU(43," Th\xeam Option "),t.qZA(),t.YNc(44,tt,10,3,"div",22),t.qZA()(),t.TgZ(45,"div",23)(46,"button",24),t.YNc(47,ot,2,0,"ng-container",25),t.YNc(48,et,1,0,"ng-template",null,26,t.W1O),t.qZA()()()}if(2&i){const a=t.MAs(49);t.Q6J("formGroup",n.addFoodForm),t.xp6(4),t.Q6J("ngIf",n.selectedImage),t.xp6(11),t.Q6J("ngIf",null==n.foodName||null==n.foodName.errors?null:n.foodName.errors.required),t.xp6(5),t.Q6J("ngForOf",n.selectedShopSections),t.xp6(6),t.Q6J("ngIf",null==n.foodPrice||null==n.foodPrice.errors?null:n.foodPrice.errors.required),t.xp6(1),t.Q6J("ngIf",null==n.foodPrice||null==n.foodPrice.errors?null:n.foodPrice.errors.pattern),t.xp6(5),t.Q6J("ngForOf",n.listType),t.xp6(1),t.Q6J("ngIf",null==n.foodType||null==n.foodType.errors?null:n.foodType.errors.required),t.xp6(11),t.Q6J("ngForOf",n.options),t.xp6(2),t.Q6J("disabled",n.addFoodForm.invalid||n.addingFood),t.xp6(1),t.Q6J("ngIf",!n.addingFood)("ngIfElse",a)}},dependencies:[m.sg,m.O5,C.Hw,g.lW,f.KE,f.hX,f.TO,T.gD,x.ey,_.Nt,A.oG,I.Ou,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,j.o8,m.H9],styles:[".full-width[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{min-height:150px}"]})}return o})();var b=l(3365),v=l(3566),u=l(5313);function it(o,s){if(1&o&&(t.ynx(0),t._UZ(1,"img",24),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.selectedImageSrc,t.LSH)}}function st(o,s){if(1&o&&t._UZ(0,"img",24),2&o){const e=t.oxw();t.Q6J("src",e.data.foodImage,t.LSH)}}function at(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," T\xean s\u1ea3n ph\u1ea9m l\xe0 "),t.TgZ(2,"strong"),t._uU(3,"b\u1eaft bu\u1ed9c"),t.qZA()())}function dt(o,s){if(1&o&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.sectionName," ")}}function ct(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Lo\u1ea1i s\u1ea3n ph\u1ea9m l\xe0 "),t.TgZ(2,"strong"),t._uU(3,"b\u1eaft bu\u1ed9c"),t.qZA()())}function lt(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Gi\xe1 ti\u1ec1n l\xe0 "),t.TgZ(2,"strong"),t._uU(3,"b\u1eaft bu\u1ed9c"),t.qZA()())}function rt(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," \u0110\u1ecbnh d\u1ea1ng gi\xe1 kh\xf4ng h\u1ee3p l\u1ec7 "),t.qZA())}function pt(o,s){1&o&&(t.ynx(0),t._uU(1,", "),t.BQk())}function mt(o,s){if(1&o&&(t.TgZ(0,"span")(1,"a",28),t._uU(2),t.qZA(),t.YNc(3,pt,2,0,"ng-container",12),t.qZA()),2&o){const e=s.$implicit,i=s.last;t.xp6(2),t.hij("",e.optionName," "),t.xp6(1),t.Q6J("ngIf",!i)}}function ut(o,s){if(1&o&&(t.TgZ(0,"div")(1,"strong",26),t._uU(2,"Option:"),t.qZA(),t.YNc(3,mt,4,2,"span",27),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.data.options)}}function ft(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1,"No option"),t.qZA())}function gt(o,s){1&o&&(t.ynx(0),t._uU(1," C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m "),t.BQk())}function ht(o,s){1&o&&t._UZ(0,"mat-spinner",29)}let _t=(()=>{class o{constructor(e,i,n,a,d,r,h){this.fb=e,this.afStorage=i,this.dialogRef=n,this.data=a,this.foodService=d,this.shopService=r,this.toastr=h,this.editForm=new c.cw({}),this.shops=[],this.option={},this.selectedImage=null,this.selectedImageSrc=null,this.addingFood=!1}ngOnInit(){this.getAllShops(),this.getAllSectionShop(),this.editForm=this.fb.group({foodName:new c.NI("",[c.kI.required]),foodType:new c.NI("",[c.kI.required]),foodPrice:new c.NI("",[c.kI.required,c.kI.pattern(/^\d+(\.\d{1,2})?$/)]),foodDescription:new c.NI(""),isOutOfStock:new c.NI(!1),shopId:new c.NI(this.data.shopId,[c.kI.required]),sectionId:new c.NI(this.data.sectionId,[c.kI.required])}),this.editForm.patchValue(this.data)}get foodName(){return this.editForm.get("foodName")}get foodType(){return this.editForm.get("foodType")}get foodPrice(){return this.editForm.get("foodPrice")}get foodDescription(){return this.editForm.get("foodDescription")}get isOutOfStock(){return this.editForm.get("isOutOfStock")}get shopId(){return this.editForm.get("shopId")}get sectionId(){return this.editForm.get("sectionId")}onSubmit(){if(this.addingFood=!0,this.editForm.valid)if(this.selectedImage){const e=this.afStorage.ref(`FoodImage/${this.selectedImage.name}`);e.put(this.selectedImage).snapshotChanges().subscribe(n=>{"success"===n?.state&&e.getDownloadURL().subscribe(a=>{this.editForm.value.foodImage=a,this.updateFood()})})}else this.updateFood()}updateFood(){this.foodService.updateFood(this.data.key,this.editForm.value).then(()=>{this.toastr.info("Th\xf4ng tin s\u1ea3n ph\u1ea9m \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt.","C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"),this.dialogRef.close(),this.addingFood=!1}).catch(e=>{console.log(e),this.addingFood=!1})}onShopSelectionChange(){const e=this.shopId?.value;this.shopService.getSectionShop(e).subscribe(i=>{this.selectedShopSections=i,this.sectionId?.setValue(this.selectedShopSections[0].key)})}getAllShops(){this.shopService.getAllShops().subscribe(e=>{this.shops=e})}getAllSectionShop(){this.shopService.getSectionShop(this.data.shopId).subscribe(e=>{this.selectedShopSections=e})}onImageSelected(e){this.selectedImage=e.target.files[0],this.selectedImageSrc=URL.createObjectURL(this.selectedImage)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(c.qu),t.Y36(O.Q1),t.Y36(p.so),t.Y36(p.WI),t.Y36(Z.d),t.Y36(J.d),t.Y36(F._W))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-food"]],decls:49,vars:14,consts:[[1,"p-5"],[1,"mb-3","text-center"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","d-flex","align-items-center","justify-content-center"],[1,"form-group"],[4,"ngIf","ngIfElse"],["defaultImage",""],["type","file","accept","image/*",1,"mt-2",3,"change"],[1,"col"],[1,"full-width"],["matInput","","formControlName","foodName"],[4,"ngIf"],["name","sectionId","formControlName","sectionId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","foodType"],["matInput","","formControlName","foodPrice"],["matInput","","formControlName","foodDescription"],["noOptionBlock",""],[1,"mt-3"],["formControlName","isOutOfStock"],[1,"col-md-12","text-center","mt-4"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["loadingButtonContent",""],["width","350px",1,"mx-auto","d-block",3,"src"],[3,"value"],[1,"me-2"],[4,"ngFor","ngForOf"],["href","javascript:"],["diameter","20"]],template:function(i,n){if(1&i&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t.YNc(7,it,2,1,"ng-container",6),t.YNc(8,st,1,1,"ng-template",null,7,t.W1O),t.TgZ(10,"input",8),t.NdJ("change",function(d){return n.onImageSelected(d)}),t.qZA()()(),t.TgZ(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),t._uU(14,"T\xean s\u1ea3n ph\u1ea9m"),t.qZA(),t._UZ(15,"input",11),t.YNc(16,at,4,0,"mat-error",12),t.qZA(),t.TgZ(17,"mat-form-field",10)(18,"mat-label"),t._uU(19,"Ch\u1ecdn danh m\u1ee5c"),t.qZA(),t.TgZ(20,"mat-select",13),t.YNc(21,dt,2,2,"mat-option",14),t.qZA()(),t.TgZ(22,"div",3)(23,"mat-form-field",9)(24,"mat-label"),t._uU(25,"Lo\u1ea1i s\u1ea3n ph\u1ea9m"),t.qZA(),t._UZ(26,"input",15),t.YNc(27,ct,4,0,"mat-error",12),t.qZA(),t.TgZ(28,"mat-form-field",9)(29,"mat-label"),t._uU(30,"Gi\xe1 s\u1ea3n ph\u1ea9m"),t.qZA(),t._UZ(31,"input",16),t.YNc(32,lt,4,0,"mat-error",12),t.YNc(33,rt,2,0,"mat-error",12),t.qZA()(),t.TgZ(34,"mat-form-field",10)(35,"mat-label"),t._uU(36,"M\xf4 t\u1ea3"),t.qZA(),t._UZ(37,"textarea",17),t.qZA(),t.YNc(38,ut,4,1,"div",6),t.YNc(39,ft,2,0,"ng-template",null,18,t.W1O),t.TgZ(41,"section",19)(42,"mat-checkbox",20),t._uU(43," Is Out of Stock "),t.qZA()()()(),t.TgZ(44,"div",21)(45,"button",22),t.YNc(46,gt,2,0,"ng-container",6),t.YNc(47,ht,1,0,"ng-template",null,23,t.W1O),t.qZA()()()()),2&i){const a=t.MAs(9),d=t.MAs(40),r=t.MAs(48);t.xp6(2),t.hij('C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m "',n.data.foodName,'"'),t.xp6(1),t.Q6J("formGroup",n.editForm),t.xp6(4),t.Q6J("ngIf",n.selectedImage)("ngIfElse",a),t.xp6(9),t.Q6J("ngIf",null==n.foodName||null==n.foodName.errors?null:n.foodName.errors.required),t.xp6(5),t.Q6J("ngForOf",n.selectedShopSections),t.xp6(6),t.Q6J("ngIf",null==n.foodType||null==n.foodType.errors?null:n.foodType.errors.required),t.xp6(5),t.Q6J("ngIf",null==n.foodPrice||null==n.foodPrice.errors?null:n.foodPrice.errors.required),t.xp6(1),t.Q6J("ngIf",null==n.foodPrice||null==n.foodPrice.errors?null:n.foodPrice.errors.pattern),t.xp6(5),t.Q6J("ngIf",n.data.options&&n.data.options.length>0)("ngIfElse",d),t.xp6(7),t.Q6J("disabled",n.editForm.invalid||n.addingFood),t.xp6(1),t.Q6J("ngIf",!n.addingFood)("ngIfElse",r)}},dependencies:[m.sg,m.O5,g.lW,f.KE,f.hX,f.TO,T.gD,x.ey,_.Nt,A.oG,I.Ou,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".full-width[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{min-height:150px}"]})}return o})();var S=l(7297),D=l(6385);function Tt(o,s){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"img",14),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH)}}function At(o,s){if(1&o&&(t.TgZ(0,"p",9)(1,"strong"),t._uU(2,"Gi\xe1:"),t.qZA(),t._uU(3),t.ALo(4,"currency"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.xi3(4,1,e.price,"VND")," ")}}function Zt(o,s){1&o&&t._UZ(0,"mat-divider",15)}function Ft(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",5),t.YNc(1,Tt,2,1,"div",6),t.TgZ(2,"div",7)(3,"div",8)(4,"p",9)(5,"strong"),t._uU(6,"T\xean:"),t.qZA(),t._uU(7),t.qZA(),t.YNc(8,At,5,4,"p",10),t.TgZ(9,"p",9)(10,"strong"),t._uU(11,"T\xecnh tr\u1ea1ng:"),t.qZA(),t._uU(12),t.qZA()(),t.TgZ(13,"button",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.deleteOptionItem(d.data.food,d.data.index,a))}),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA()()(),t.YNc(16,Zt,1,0,"mat-divider",12),t.qZA()}if(2&o){const e=s.$implicit,i=s.last;t.xp6(1),t.Q6J("ngIf",e.image),t.xp6(6),t.hij(" ",e.name,""),t.xp6(1),t.Q6J("ngIf",e.price),t.xp6(4),t.hij(" ",e.isOutOfStock?"H\u1ebft h\xe0ng":"C\xf2n h\xe0ng"," "),t.xp6(4),t.Q6J("ngIf",!i)}}let Ct=(()=>{class o{constructor(e,i,n,a,d){this.data=e,this.foodService=i,this.dialog=n,this.afStorage=a,this.toastr=d,this.optionItem={},this.addingSuccess=!1}deleteOptionItem(e,i,n){this.dialog.open(S.$,{data:{title:"Xo\xe1 item?",message:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n xo\xe1 Item n\xe0y?"}}).afterClosed().subscribe(d=>{d&&this.foodService.deleteOptionItemFood(e,i,n).then(()=>{this.toastr.error("Item \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1.","\u0110\xe3 xo\xe1!")}).catch(r=>{console.log(r)})})}addOptionItem(e,i){this.foodService.AddOptionItemFood(e,i,this.optionItem).then(()=>{this.addingSuccess=!1,this.toastr.success("\u0110\xe3 th\xeam item v\xe0o Option.","Th\xe0nh c\xf4ng!"),this.optionItem={}}).catch(n=>{this.addingSuccess=!1,console.log(n)})}openAddOptionItem(e,i){this.dialog.open(q,{data:{optionItem:this.optionItem}}).afterClosed().subscribe(a=>{if(a)if(this.addingSuccess=!0,a.image){const d=a.image,r=this.afStorage.ref(`FoodImage/${d.name}`);r.put(d).snapshotChanges().subscribe(N=>{"success"===N?.state&&r.getDownloadURL().subscribe(eo=>{this.optionItem.image=eo,this.addOptionItem(e,i)})})}else this.addOptionItem(e,i)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(p.WI),t.Y36(Z.d),t.Y36(p.uw),t.Y36(O.Q1),t.Y36(F._W))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-option-details"]],decls:8,vars:3,consts:[[1,"p-5","option-list"],[1,"d-flex","justify-content-around"],[1,"text-center","mb-4"],["mat-button","","color","primary",3,"click"],["class","row",4,"ngFor","ngForOf"],[1,"row"],["class","col d-flex justify-content-center align-items-center",4,"ngIf"],[1,"col","d-flex","justify-content-around","align-items-center"],[1,"me-3"],[1,"mb-0","text-truncate"],["class","mb-0 text-truncate",4,"ngIf"],["mat-icon-button","","color","warn","title","Xo\xe1 item",3,"click"],["class","my-3",4,"ngIf"],[1,"col","d-flex","justify-content-center","align-items-center"],["width","150px",1,"mx-auto","d-block",3,"src"],[1,"my-3"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3),t.qZA(),t.TgZ(4,"sup")(5,"button",3),t.NdJ("click",function(){return n.openAddOptionItem(n.data.food,n.data.index)}),t._uU(6," Th\xeam Item "),t.qZA()()(),t.YNc(7,Ft,17,5,"div",4),t.qZA()),2&i&&(t.xp6(3),t.AsE("Th\xf4ng tin ",n.data.option.optionName," (",n.data.option.optionType,")"),t.xp6(4),t.Q6J("ngForOf",n.data.option.optionList))},dependencies:[m.sg,m.O5,C.Hw,g.lW,g.RK,D.d,m.H9],styles:[".option-list[_ngcontent-%COMP%]{max-height:450px;overflow-y:auto}"]})}return o})();var It=l(1387),vt=l(4191),Et=l(4321);function xt(o,s){1&o&&(t.TgZ(0,"th",27),t._uU(1," M\xe3 "),t.qZA())}function Ot(o,s){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e.key," ")}}function bt(o,s){1&o&&(t.TgZ(0,"th",29),t._uU(1," T\xean s\u1ea3n ph\u1ea9m "),t.qZA())}function St(o,s){if(1&o&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("title",e.foodName),t.xp6(1),t.hij(" ",e.foodName," ")}}function Nt(o,s){1&o&&(t.TgZ(0,"th",27),t._uU(1," Gi\xe1 s\u1ea3n ph\u1ea9m "),t.qZA())}function Ut(o,s){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.foodPrice,"VND")," ")}}function yt(o,s){1&o&&(t.TgZ(0,"th",27),t._uU(1," Lo\u1ea1i s\u1ea3n ph\u1ea9m "),t.qZA())}function kt(o,s){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e.foodType," ")}}function qt(o,s){1&o&&(t.TgZ(0,"th",29),t._uU(1," Tu\u1ef3 ch\u1ecdn "),t.qZA())}function Jt(o,s){1&o&&(t.ynx(0),t._uU(1,", "),t.BQk())}function Yt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"span",35)(1,"a",36),t.NdJ("click",function(){const n=t.CHM(e),a=n.$implicit,d=n.index,r=t.oxw(2).$implicit,h=t.oxw();return t.KtG(h.openOptionDetails(r,a,d))}),t._uU(2),t.qZA(),t.TgZ(3,"sup")(4,"a",37),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.deleteOption(d,a))}),t._UZ(5,"i",38),t.qZA()(),t.YNc(6,Jt,2,0,"ng-container",39),t.qZA()}if(2&o){const e=s.$implicit,i=s.last;t.xp6(2),t.hij(" ",e.optionName," "),t.xp6(4),t.Q6J("ngIf",!i)}}function Dt(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Yt,7,2,"span",34),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.options)}}function wt(o,s){1&o&&(t.TgZ(0,"div",35),t._uU(1,"Kh\xf4ng c\xf3 tu\u1ef3 ch\u1ecdn"),t.qZA())}function Qt(o,s){if(1&o&&(t.TgZ(0,"td",31),t.YNc(1,Dt,2,1,"div",32),t.YNc(2,wt,2,0,"ng-template",null,33,t.W1O),t.qZA()),2&o){const e=s.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.options&&e.options.length>0)("ngIfElse",i)}}function Lt(o,s){1&o&&(t.TgZ(0,"th",29),t._uU(1," T\xecnh tr\u1ea1ng "),t.qZA())}function Mt(o,s){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",e.isOutOfStock?"H\u1ebft h\xe0ng":"C\xf2n h\xe0ng"," ")}}function Rt(o,s){1&o&&(t.TgZ(0,"th",40),t._uU(1,"Thao t\xe1c"),t.qZA())}function jt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"td",28)(1,"button",41),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.openAddOption(a))}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA()(),t.TgZ(4,"button",42),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.openEditForm(a))}),t.TgZ(5,"mat-icon"),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",43),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.deleteFood(a.key))}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()}}function $t(o,s){1&o&&t._UZ(0,"tr",44)}function Pt(o,s){1&o&&t._UZ(0,"tr",45)}function Ht(o,s){1&o&&t._UZ(0,"mat-spinner",46)}const Bt=function(){return[5,10,20,50]};let Gt=(()=>{class o{constructor(e,i,n,a,d,r){this.foodService=e,this.authService=i,this.excelService=n,this._liveAnnouncer=a,this.toastr=d,this.dialog=r,this.displayedColumns=["key","foodName","foodPrice","foodType","options","isOutOfStock","actions"],this.option={},this.addingSuccess=!1,this.isLoading=!1}ngOnInit(){this.getAllFoods()}getAllFoods(){this.isLoading=!0,this.authService.getCurrentUser().subscribe(e=>{this.shopId=e.shopId,this.foodService.getFoodsByShopId(e.shopId).subscribe(i=>{this.dataSource=new u.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.isLoading=!1})})}deleteFood(e){this.dialog.open(S.$,{data:{title:"Xo\xe1 S\u1ea3n ph\u1ea9m?",message:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n xo\xe1 S\u1ea3n ph\u1ea9m n\xe0y?"}}).afterClosed().subscribe(n=>{n&&this.foodService.deleteFood(e).then(()=>{this.toastr.error("S\u1ea3n ph\u1ea9m \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1.","\u0110\xe3 xo\xe1!")})})}openEditForm(e){this.dialog.open(_t,{data:e})}openOptionDetails(e,i,n){this.dialog.open(Ct,{data:{food:e,option:i,index:n}})}addOption(e){this.option.optionList=[],this.foodService.addOptionFood(e,this.option).then(()=>{this.toastr.success("Th\xeam Option th\xe0nh c\xf4ng.","Th\xe0nh c\xf4ng!")}).catch(i=>{console.log(i)}),this.option={}}openAddOption(e){this.dialog.open(k,{data:{option:this.option}}).afterClosed().subscribe(n=>{n&&this.addOption(e)})}deleteOption(e,i){this.dialog.open(S.$,{data:{title:"Xo\xe1 Option?",message:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n xo\xe1 Option n\xe0y?"}}).afterClosed().subscribe(a=>{a&&this.foodService.deleteOptionFood(e,i).then(()=>{this.toastr.error("Option \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1.","\u0110\xe3 xo\xe1!")}).catch(d=>{console.log(d)})})}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}onFileChange(e){const i=e.target.files[0];i&&this.excelService.readFileDataFood(i).then(n=>{const a=n.map(d=>({...d,shopId:String(d.shopId),sectionId:String(d.sectionId)}));this.foodService.addFoodsFromExcel(a)})}openFileInput(){document.getElementById("fileInput").click()}downloadSampleDataFoodExcel(){this.shopId&&this.excelService.downloadSampleDataFoodExcel(this.shopId)}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Z.d),t.Y36(Y.e),t.Y36(It.x),t.Y36(vt.Kd),t.Y36(F._W),t.Y36(p.uw))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-food"]],viewQuery:function(i,n){if(1&i&&(t.Gf(b.NW,5),t.Gf(v.YE,5)),2&i){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first),t.iGM(a=t.CRH())&&(n.sort=a.first)}},decls:38,vars:8,consts:[[1,"mt-4"],["type","file",2,"display","none",3,"change"],["fileInput",""],["mat-button","","color","primary",2,"color","#3498db",3,"click"],[1,"fas","fa-cloud-upload"],["mat-button","",2,"color","#2ecc71",3,"click"],[1,"fas","fa-cloud-download"],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","","class","fw-bold",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate",4,"matCellDef"],["matColumnDef","foodName"],["mat-header-cell","","mat-sort-header","","class","fw-bold text-truncate",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width: 200px;",3,"title",4,"matCellDef"],["matColumnDef","foodPrice"],["matColumnDef","foodType"],["matColumnDef","options"],["mat-cell","",4,"matCellDef"],["matColumnDef","isOutOfStock"],["matColumnDef","actions"],["mat-header-cell","","class","fw-bold",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","custom-spinner","diameter","50",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSize","pageSizeOptions"],[3,"isLoading"],["mat-header-cell","","mat-sort-header","",1,"fw-bold"],["mat-cell","",1,"text-truncate"],["mat-header-cell","","mat-sort-header","",1,"fw-bold","text-truncate"],["mat-cell","",1,"text-truncate",2,"max-width","200px",3,"title"],["mat-cell",""],[4,"ngIf","ngIfElse"],["noOptionBlock",""],["class","text-truncate",4,"ngFor","ngForOf"],[1,"text-truncate"],["href","javascript:","title","Th\xf4ng tin Option",3,"click"],["href","javascript:","title","Xo\xe1 Option",3,"click"],[1,"fas","fa-close",2,"color","#e60f0f"],[4,"ngIf"],["mat-header-cell","",1,"fw-bold"],["mat-icon-button","","color","accent","title","Th\xeam Option",3,"click"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["diameter","50",1,"custom-spinner"]],template:function(i,n){if(1&i){const a=t.EpF();t.TgZ(0,"div",0)(1,"div")(2,"input",1,2),t.NdJ("change",function(r){return n.onFileChange(r)}),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){t.CHM(a);const r=t.MAs(3);return t.KtG(r.click())}),t._UZ(5,"i",4),t._uU(6,"Upload data "),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return n.downloadSampleDataFoodExcel()}),t._UZ(8,"i",6),t._uU(9,"Download sample data "),t.qZA()(),t.TgZ(10,"div",7)(11,"table",8),t.NdJ("matSortChange",function(r){return n.announceSortChange(r)}),t.ynx(12,9),t.YNc(13,xt,2,0,"th",10),t.YNc(14,Ot,2,1,"td",11),t.BQk(),t.ynx(15,12),t.YNc(16,bt,2,0,"th",13),t.YNc(17,St,2,2,"td",14),t.BQk(),t.ynx(18,15),t.YNc(19,Nt,2,0,"th",10),t.YNc(20,Ut,3,4,"td",11),t.BQk(),t.ynx(21,16),t.YNc(22,yt,2,0,"th",10),t.YNc(23,kt,2,1,"td",11),t.BQk(),t.ynx(24,17),t.YNc(25,qt,2,0,"th",13),t.YNc(26,Qt,4,2,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,Lt,2,0,"th",13),t.YNc(29,Mt,2,1,"td",11),t.BQk(),t.ynx(30,20),t.YNc(31,Rt,2,0,"th",21),t.YNc(32,jt,10,0,"td",11),t.BQk(),t.YNc(33,$t,1,0,"tr",22),t.YNc(34,Pt,1,0,"tr",23),t.qZA(),t.YNc(35,Ht,1,0,"mat-spinner",24),t.qZA(),t._UZ(36,"mat-paginator",25)(37,"app-loading-dots",26),t.qZA()}2&i&&(t.xp6(11),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",n.addingSuccess),t.xp6(1),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(7,Bt)),t.xp6(1),t.Q6J("isLoading",n.isLoading))},dependencies:[m.sg,m.O5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,b.NW,v.YE,v.nU,C.Hw,g.lW,g.RK,I.Ou,Et.l,m.H9],styles:[".custom-spinner[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return o})();const Wt=[{path:"",component:(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-food"]],decls:6,vars:1,consts:[["cardTitle","Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m",3,"options"],["label","Danh s\xe1ch s\u1ea3n ph\u1ea9m"],["label","Th\xeam s\u1ea3n ph\u1ea9m"]],template:function(i,n){1&i&&(t.TgZ(0,"app-card",0)(1,"mat-tab-group")(2,"mat-tab",1),t._UZ(3,"app-list-food"),t.qZA(),t.TgZ(4,"mat-tab",2),t._UZ(5,"app-add-food"),t.qZA()()()),2&i&&t.Q6J("options",!1)},dependencies:[E.uX,E.SP,w.A,nt,Gt]})}return o})()}];let Kt=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275mod=t.oAB({type:o});static#e=this.\u0275inj=t.cJS({imports:[y.Bz.forChild(Wt),y.Bz]})}return o})();var Xt=l(9038),Vt=l(5195),zt=l(9014),to=l(8308);let oo=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275mod=t.oAB({type:o});static#e=this.\u0275inj=t.cJS({imports:[m.ez,Kt,u.p0,b.TU,v.JX,C.Ps,g.ot,f.lN,T.LD,_.c,A.p9,p.Is,D.t,Xt.ie,E.Nh,Vt.QW,I.Cq,zt.g,to.m]})}return o})()}}]);